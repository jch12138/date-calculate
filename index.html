<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>日期计算器</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="src/jquery.min.js"></script>
<script src="src/bootstrap.min.js"></script>
<link href="src/bootstrap.css" rel="stylesheet">
<script src="src/bootstrap-datepicker.min.js"></script>
<script src="src/bootstrap-datepicker.zh-CN.min.js"></script>
<link href="src/bootstrap-datepicker.min.css" rel="stylesheet">
<script src="src/moment.js"></script>

<script>
	$(document).ready(function() {
		$("#calendar").datepicker({
			date_format: "Y-m-d",
			language:'zh-CN',
			autoclose:true,
			format:"yyyy-mm-dd"
		});
		
		var now = moment();
		var start = null;
		//console.log(now);
		console.log(now.format('YYYY年MM月DD日'));
		$("#now").text(now.format('YYYY年MM月DD日'));
		//document.querySelector("#calendar").onchange = hello;
		$('#calendar').datepicker().on('changeDate', function(ev){
			//console.log(1);
			start = moment(document.querySelector("#calendar").value);
			console.log(start);
			var res = now.diff(start,'day')+1;
			console.log(res);
			$("#res").text("已经过去"+res+"天");
		});

		$('#calendar').datepicker('setEndDate', now.format('YYYY-MM-DD'));
		
	
	});

	

	function hello(){
		console.log(1);
	}
	
</script>
<style>
	.container{
		text-align: center;
	}
	.form-control{
		margin:0 auto;
	}
</style>
</head>
<body>
<div style="text-align:center;clear:both;">
</div>
<div class="container">
	<h2>当前日期</h2>
	<h3 id="now">今天是</h3>
	<h2>请选择起始日期</h2>
	<div class="row">
		<div class="col-md-4">
			<div class="input-group">
				<span class="input-group-addon" id="basic-addon1"><i class="fa fa-calendar"></i></span>
				<input readonly="1" type="text" id="calendar" placeholder="test" class="form-control" >
			</div>
		</div>
	</div>
	<h3 id="res"></h3>
	
	
</div>

</body>
</html>